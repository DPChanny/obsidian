---
type: tool
---
## `git reset` 명령어 상세 정리

`git reset`은 Git에서 **커밋 이력을 되돌리거나, 스테이징 영역(Index)을 재설정하는 데 사용되는 매우 강력하고 유연한 명령어**입니다. 주로 작업 내용을 "취소"하거나 "되돌리는" 상황에 활용되지만, 그 강력함만큼이나 사용 시 **주의**가 필요합니다. 특히 원격 저장소에 이미 푸시(push)된 커밋에 대해서는 신중하게 사용해야 합니다.

---

### 1. `git reset`의 역할과 중요성

`git reset`은 Git의 세 가지 주요 트리(Tree) 영역인 **HEAD, 인덱스(Index/Staging Area), 작업 디렉토리(Working Directory)** 에 영향을 미칩니다. 이 명령어는 주로 과거의 특정 커밋 상태로 돌아가거나, 스테이징되지 않은 변경사항을 만들거나, 특정 파일을 스테이징 해제하는 등의 복잡한 되돌리기 작업을 수행합니다.

- **HEAD 이동**: `HEAD` 포인터(현재 브랜치가 가리키는 커밋)를 변경하여 커밋 이력을 되돌립니다.
    
- **인덱스 재설정**: 스테이징 영역의 내용을 변경하여 다음 커밋에 포함될 파일을 조정합니다.
    
- **작업 디렉토리 변경**: 실제 파일 내용을 변경하여 작업 디렉토리를 특정 커밋 상태로 되돌립니다.
    

`git reset`은 되돌리려는 범위와 방식에 따라 다양한 모드를 제공하며, 이 모드들을 정확히 이해하는 것이 중요합니다.

---

### 2. 기본 문법

Bash

```
git reset [<mode>] [<commit>]
```

- `<mode>`: `reset` 작업이 인덱스와 작업 디렉토리에 미치는 영향을 정의합니다. 가장 중요한 부분입니다.
    
- `<commit>`: `HEAD`를 이동시킬 대상 커밋을 지정합니다. 이 커밋의 상태로 인덱스와 작업 디렉토리를 재설정합니다. 기본값은 `HEAD` (즉, 현재 커밋)입니다. `HEAD~1`은 직전 커밋, `HEAD~2`는 2단계 전 커밋을 의미합니다. 특정 커밋 ID(`abcdef1`)를 지정할 수도 있습니다.
    

---

### 3. 주요 모드 및 사용 사례

`git reset`은 주로 세 가지 주요 모드를 통해 작동하며, 각 모드는 `HEAD`, 인덱스, 작업 디렉토리에 미치는 영향이 다릅니다.

#### 3.1. `--soft` 모드

- **명령어**: `git reset --soft <commit>`
    
- **설명**:
    
    - `HEAD` 포인터를 지정된 `<commit>`으로 이동시킵니다.
        
    - **인덱스(Staging Area)** 와 **작업 디렉토리(Working Directory)** 는 **그대로 유지**됩니다.
        
    - 결과적으로, `<commit>` 이후에 발생한 모든 변경 사항(현재 커밋까지)이 **스테이징된 상태**로 남아있게 됩니다.
        
- **사용 시점**:
    
    - 최근 커밋을 "취소"하고 싶지만, 해당 커밋의 모든 변경 내용을 다시 스테이징하여 **새로운 커밋 메시지로 재커밋**하거나, **다른 변경사항을 추가하여 커밋**하고 싶을 때 유용합니다.
        
    - `git commit --amend`와 유사하게 최근 커밋을 수정하는 용도로도 활용될 수 있습니다 (다만 `amend`가 더 간단하고 일반적입니다).
        
- **예시**:
    
    Bash
    
    ```
    # 직전 커밋을 되돌리지만, 변경 내용은 스테이징된 상태로 유지합니다.
    git reset --soft HEAD~1
    # 이제 'git status'를 실행하면 이전 커밋의 내용이 'Changes to be committed'에 표시됩니다.
    # 필요한 경우 수정 후 다시 커밋할 수 있습니다.
    git commit -m "새로운 커밋 메시지"
    ```
    

#### 3.2. `--mixed` 모드 (기본값)

- **명령어**: `git reset --mixed <commit>` (또는 `git reset <commit>`)
    
- **설명**:
    
    - `HEAD` 포인터를 지정된 `<commit>`으로 이동시킵니다.
        
    - **인덱스(Staging Area)를 지정된 `<commit>` 상태로 재설정**합니다. 즉, `<commit>` 이후에 스테이징되었던 모든 변경 사항이 스테이징 해제됩니다.
        
    - **작업 디렉토리(Working Directory)는 그대로 유지**됩니다.
        
    - 결과적으로, `<commit>` 이후에 발생한 모든 변경 사항이 **스테이징되지 않은 상태**로 남아있게 됩니다.
        
- **사용 시점**:
    
    - 최근 커밋을 취소하고, 해당 커밋의 변경 내용들을 스테이징되지 않은 상태로 되돌려 **작업 디렉토리에서 다시 편집하거나 선별적으로 스테이징하고 싶을 때** 유용합니다.
        
    - **가장 흔하게 사용되는 `reset` 모드**이며, 안전하게 커밋을 취소하는 데 많이 쓰입니다.
        
- **예시**:
    
    Bash
    
    ```
    # 직전 커밋을 되돌리고, 해당 커밋의 변경 내용들을 스테이징되지 않은 상태로 되돌립니다.
    git reset --mixed HEAD~1
    # 이제 'git status'를 실행하면 이전 커밋의 내용이 'Changes not staged for commit'에 표시됩니다.
    # 'git add'를 통해 다시 스테이징하거나 'git restore'로 변경을 버릴 수 있습니다.
    ```
    
    - **참고**: `git reset <file>`은 특정 파일만 스테이징 해제할 때 사용되었으나, Git 2.23부터는 `git restore --staged <file>`이 권장됩니다.
        

#### 3.3. `--hard` 모드

- **명령어**: `git reset --hard <commit>`
    
- **설명**:
    
    - `HEAD` 포인터를 지정된 `<commit>`으로 이동시킵니다.
        
    - **인덱스(Staging Area)를 지정된 `<commit>` 상태로 재설정**합니다.
        
    - **작업 디렉토리(Working Directory)도 지정된 `<commit>` 상태로 완전히 재설정**합니다. 즉, `<commit>` 이후의 모든 변경 사항(스테이징된 것, 스테이징되지 않은 것 모두)이 **모두 버려지고 영구적으로 삭제**됩니다.
        
- **사용 시점**:
    
    - **매우 강력하며 위험한 모드**입니다. 현재 작업 중인 모든 변경 사항을 **완전히 삭제하고 특정 커밋 상태로 돌아가고 싶을 때만 사용**해야 합니다.
        
    - 작업 내용을 완전히 되돌리고 싶을 때, 혹은 잘못된 실험적 작업을 깨끗하게 초기화할 때.
        
- **예시**:
    
    Bash
    
    ```
    # 직전 커밋으로 돌아가고, 해당 커밋 이후의 모든 변경 사항을 작업 디렉토리에서 완전히 삭제합니다.
    git reset --hard HEAD~1
    # 이 명령어를 실행하면 이후의 모든 작업 내용이 사라지므로 매우 신중해야 합니다.
    ```
    
    - **경고**: `git reset --hard`는 **되돌릴 수 없는(destructive) 작업**입니다. 로컬에서 작업 중인 내용이 모두 사라질 수 있으니, 사용 전에 반드시 신중하게 고려하고 필요한 경우 백업을 해두는 것이 좋습니다.
        

---

### 4. 기타 유용한 옵션

- **`<file>` (파일 단위 reset)**
    
    - **명령어**: `git reset <file>` (기본적으로 `--mixed` 모드)
        
    - **설명**: `HEAD`는 그대로 두고, **특정 파일만 인덱스에서 제거**(스테이징 해제)합니다. 작업 디렉토리는 그대로 유지됩니다.
        
    - **사용 시점**: 특정 파일을 `git add`했지만, 다음 커밋에 포함시키고 싶지 않을 때.
        
    - **예시**:
        
        Bash
        
        ```
        # 'index.html' 파일의 스테이징을 해제합니다.
        git reset index.html
        # Git 2.23부터는 'git restore --staged index.html'이 권장됩니다.
        ```
        
    - **참고**: `git reset <file>`은 `git reset --mixed HEAD <file>`과 동일하게 동작합니다. 즉, 현재 `HEAD` 커밋의 상태로 해당 파일만 인덱스에 복원합니다. 작업 디렉토리의 변경 내용은 영향을 받지 않습니다.
        

---

### 5. `git reset` 사용 시 주의사항

- **로컬 변경 사항 확인**: `git reset --hard`를 제외한 `--soft`, `--mixed` 모드는 작업 디렉토리의 파일을 보존합니다. 하지만 `git reset --hard`는 작업 중인 모든 변경 사항을 **영구적으로 삭제**하므로 사용 시 극도의 주의가 필요합니다.
    
- **원격 저장소에 푸시된 커밋**: `git reset`은 로컬 저장소의 이력을 변경합니다. 만약 되돌리려는 커밋이 이미 `git push`를 통해 원격 저장소에 올라갔다면, `git reset` 후 강제 푸시(`git push --force` 또는 `git push --force-with-lease`)가 필요할 수 있습니다. **이는 다른 공동 작업자들의 이력을 꼬이게 만들 수 있으므로 팀 프로젝트에서는 매우 위험하며, 가급적 피해야 합니다.** 이미 공유된 이력을 수정해야 한다면 `git revert`를 사용하여 되돌리는 커밋을 새로 만드는 것이 더 안전한 방법입니다.
    

---

`git reset`은 Git의 강력함을 보여주는 명령어지만, 그만큼 신중한 사용이 요구됩니다. 각 모드의 정확한 동작 방식을 이해하고 상황에 맞춰 적절하게 활용하는 것이 중요합니다. 혹시 `git revert`와 `git reset`의 차이점에 대해서도 궁금하신가요?